{"version":3,"file":"switch-tab-custom.js","sources":["uni_modules/tuniaoui-vue3/components/switch-tab/src/composables/switch-tab-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\n\nimport type { CSSProperties } from 'vue'\nimport type { SwitchTabProps } from '../switch-tab'\n\nexport type tabClass = (index: number) => string\nexport type tabStyle = (index: number) => CSSProperties\n\nexport const useSwitchTabCustomStyle = (props: SwitchTabProps) => {\n  const ns = useNamespace('switch-tab')\n\n  // 解析颜色\n  const [inactiveBgColorClass, inactiveBgColorStyle] = useComponentColor(\n    toRef(props, 'inactiveBgColor'),\n    'bg'\n  )\n  const [activeBgColorClass, activeBgColorStyle] = useComponentColor(\n    toRef(props, 'activeBgColor'),\n    'bg'\n  )\n  const [inactiveTextColorClass, inactiveTextColorStyle] = useComponentColor(\n    toRef(props, 'inactiveTextColor'),\n    'text'\n  )\n  const [activeTextColorClass, activeTextColorStyle] = useComponentColor(\n    toRef(props, 'activeTextColor'),\n    'text'\n  )\n\n  // 切换选项卡的类\n  const switchTabClass = computed(() => {\n    const cls: string[] = [ns.b()]\n\n    if (activeBgColorClass.value) cls.push(activeBgColorClass.value)\n\n    return cls.join(' ')\n  })\n  // 切换选项卡的样式\n  const switchTabStyle = computed(() => {\n    const style: CSSProperties = {}\n\n    if (!activeBgColorClass.value) {\n      style.backgroundColor =\n        activeBgColorStyle.value || 'var(--tn-color-white)'\n    }\n\n    return style\n  })\n\n  // 标签的类\n  const tabClass = computed<tabClass>(() => {\n    return (index: number) => {\n      const cls: string[] = [\n        ns.e('tab'),\n        ns.is('active', index === props.modelValue),\n      ]\n\n      if (index === props.modelValue) {\n        if (activeBgColorClass.value) cls.push(activeBgColorClass.value)\n        if (activeTextColorClass.value) cls.push(activeTextColorClass.value)\n      } else {\n        if (inactiveBgColorClass.value) cls.push(inactiveBgColorClass.value)\n        if (inactiveTextColorClass.value) cls.push(inactiveTextColorClass.value)\n      }\n\n      return cls.join(' ')\n    }\n  })\n  // 标签的样式\n  const tabStyle = computed<tabStyle>(() => {\n    return (index: number) => {\n      const style: CSSProperties = {}\n\n      if (index === props.modelValue) {\n        if (!activeBgColorClass.value) {\n          style.backgroundColor =\n            activeBgColorStyle.value || 'var(--tn-color-white)'\n        }\n        if (activeTextColorStyle.value) {\n          style.color = activeTextColorStyle.value\n        } else if (!activeTextColorClass.value && !activeBgColorClass.value) {\n          style.color = 'var(--tn-text-color-primary)'\n        }\n      } else {\n        if (!inactiveBgColorClass.value) {\n          style.backgroundColor =\n            inactiveBgColorStyle.value || 'var(--tn-color-primary-light-7)'\n        }\n        if (inactiveTextColorStyle.value) {\n          style.color = inactiveTextColorStyle.value\n        } else if (\n          !inactiveTextColorClass.value &&\n          !inactiveBgColorClass.value\n        ) {\n          style.color = 'var(--tn-text-color-primary)'\n        }\n        if (index === props.modelValue - 1) {\n          style.borderBottomRightRadius = '30rpx'\n        }\n        if (index === props.modelValue + 1) {\n          style.borderBottomLeftRadius = '30rpx'\n        }\n      }\n\n      return style\n    }\n  })\n\n  return {\n    ns,\n    tabClass,\n    tabStyle,\n    switchTabClass,\n    switchTabStyle,\n  }\n}\n"],"names":["useNamespace","__read","useComponentColor","toRef","computed"],"mappings":";;;;;;AASO,MAAM,0BAA0B,CAAC,UAAqB;AAC3D,QAAM,KAAKA,+DAAa,YAAY;AAG9B,QAAA,KAAAC,cAAAA,OAA+CC,uDAAiB,kBACpEC,cAAK,MAAC,OAAO,iBAAiB,GAC9B,IAAI,OAFC,8BAAsB;AAIvB,QAAA,KAAAF,cAAAA,OAA2CC,uDAAiB,kBAChEC,cAAK,MAAC,OAAO,eAAe,GAC5B,IAAI,OAFC,4BAAoB;AAIrB,QAAA,KAAAF,cAAAA,OAAmDC,uDAAiB,kBACxEC,cAAK,MAAC,OAAO,mBAAmB,GAChC,MAAM,OAFD,gCAAwB;AAIzB,QAAA,KAAAF,cAAAA,OAA+CC,uDAAiB,kBACpEC,cAAK,MAAC,OAAO,iBAAiB,GAC9B,MAAM,OAFD,8BAAsB;AAM7B,QAAM,iBAAiBC,cAAAA,SAAS,MAAA;AAC9B,UAAM,MAAgB,CAAC,GAAG,EAAG,CAAA;AAE7B,QAAI,mBAAmB;AAAO,UAAI,KAAK,mBAAmB,KAAK;AAE/D,WAAO,IAAI,KAAK,GAAG;AAAA,EACrB,CAAC;AAED,QAAM,iBAAiBA,cAAAA,SAAS,MAAA;AAC9B,UAAM,QAAuB,CAAA;AAE7B,QAAI,CAAC,mBAAmB,OAAO;AAC7B,YAAM,kBACJ,mBAAmB,SAAS;AAAA,IAC/B;AAED,WAAO;AAAA,EACT,CAAC;AAGD,QAAM,WAAWA,cAAAA,SAAmB,MAAA;AAClC,WAAO,CAAC,UAAa;AACnB,YAAM,MAAgB;AAAA,QACpB,GAAG,EAAE,KAAK;AAAA,QACV,GAAG,GAAG,UAAU,UAAU,MAAM,UAAU;AAAA;AAG5C,UAAI,UAAU,MAAM,YAAY;AAC9B,YAAI,mBAAmB;AAAO,cAAI,KAAK,mBAAmB,KAAK;AAC/D,YAAI,qBAAqB;AAAO,cAAI,KAAK,qBAAqB,KAAK;AAAA,MACpE,OAAM;AACL,YAAI,qBAAqB;AAAO,cAAI,KAAK,qBAAqB,KAAK;AACnE,YAAI,uBAAuB;AAAO,cAAI,KAAK,uBAAuB,KAAK;AAAA,MACxE;AAED,aAAO,IAAI,KAAK,GAAG;AAAA,IACrB;AAAA,EACF,CAAC;AAED,QAAM,WAAWA,cAAAA,SAAmB,MAAA;AAClC,WAAO,CAAC,UAAa;AACnB,YAAM,QAAuB,CAAA;AAE7B,UAAI,UAAU,MAAM,YAAY;AAC9B,YAAI,CAAC,mBAAmB,OAAO;AAC7B,gBAAM,kBACJ,mBAAmB,SAAS;AAAA,QAC/B;AACD,YAAI,qBAAqB,OAAO;AAC9B,gBAAM,QAAQ,qBAAqB;AAAA,QACpC,WAAU,CAAC,qBAAqB,SAAS,CAAC,mBAAmB,OAAO;AACnE,gBAAM,QAAQ;AAAA,QACf;AAAA,MACF,OAAM;AACL,YAAI,CAAC,qBAAqB,OAAO;AAC/B,gBAAM,kBACJ,qBAAqB,SAAS;AAAA,QACjC;AACD,YAAI,uBAAuB,OAAO;AAChC,gBAAM,QAAQ,uBAAuB;AAAA,QACtC,WACC,CAAC,uBAAuB,SACxB,CAAC,qBAAqB,OACtB;AACA,gBAAM,QAAQ;AAAA,QACf;AACD,YAAI,UAAU,MAAM,aAAa,GAAG;AAClC,gBAAM,0BAA0B;AAAA,QACjC;AACD,YAAI,UAAU,MAAM,aAAa,GAAG;AAClC,gBAAM,yBAAyB;AAAA,QAChC;AAAA,MACF;AAED,aAAO;AAAA,IACT;AAAA,EACF,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAEJ;;"}