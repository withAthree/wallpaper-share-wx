{"code":"import { computed, getCurrentInstance, reactive, ref } from 'vue';\nimport { debugWarn, isBoolean, isEmptyVariableInDefault, isPromise, } from '../../../../utils';\nexport const useActionSheet = () => {\n    const instance = getCurrentInstance();\n    if (!instance) {\n        debugWarn('TnActionSheet', '请在 setup 中使用 useActionSheet');\n    }\n    const slots = instance.slots;\n    // 默认配置项\n    const defaultOptions = {\n        actions: [],\n        title: '',\n        cancelText: '取 消',\n        mask: true,\n        maskClosable: false,\n        cancel: undefined,\n        select: undefined,\n    };\n    // 配置项\n    const options = reactive({\n        actions: [],\n        title: '',\n        cancelText: '取 消',\n        mask: true,\n        cancel: undefined,\n        select: undefined,\n    });\n    // 操作菜单数据\n    const data = computed(() => { return options.actions; });\n    // 是否显示标题\n    const showTitle = computed(() => { return !!(slots === null || slots === void 0 ? void 0 : slots.title) || !!options.title; });\n    const title = computed(() => { return options.title; });\n    // 是否显示取消按钮\n    const showCancel = computed(() => { return !!(slots === null || slots === void 0 ? void 0 : slots.cancel) || !!options.cancelText; });\n    const cancelText = computed(() => { return options.cancelText; });\n    // 是否显示遮罩\n    const overlay = computed(() => { return isEmptyVariableInDefault(options.mask, true); });\n    // 点击遮罩是否允许关闭\n    const overlayClosable = computed(() => {\n        return isEmptyVariableInDefault(options.maskClosable, false);\n    });\n    // 弹出popup弹框\n    const openPopup = ref(false);\n    // popup弹框关闭事件\n    const popupCloseEvent = () => {\n        if (!options.cancel || overlayClosable.value) {\n            openPopup.value = false;\n            return;\n        }\n        const shouldCancel = options.cancel();\n        const isPromiseOrBoolean = [\n            isPromise(shouldCancel),\n            isBoolean(shouldCancel),\n        ].includes(true);\n        if (!isPromiseOrBoolean) {\n            debugWarn('TnActionSheet', 'cancel 函数返回值必须是 Promise 或者 Boolean 类型');\n            return;\n        }\n        if (isPromise(shouldCancel)) {\n            shouldCancel.then((res) => {\n                if (res) {\n                    openPopup.value = false;\n                }\n            });\n        }\n        else {\n            if (shouldCancel) {\n                openPopup.value = false;\n            }\n        }\n    };\n    // 选项点击事件\n    const actionClickEvent = (index) => {\n        if (!options.select) {\n            openPopup.value = false;\n            return;\n        }\n        const shouldSelect = options.select(index, options.actions[index].value);\n        const isPromiseOrBoolean = [\n            isPromise(shouldSelect),\n            isBoolean(shouldSelect),\n        ].includes(true);\n        if (!isPromiseOrBoolean) {\n            debugWarn('TnActionSheet', 'select 函数返回值必须是 Promise 或者 Boolean 类型');\n            return;\n        }\n        if (isPromise(shouldSelect)) {\n            shouldSelect.then((res) => {\n                if (res) {\n                    openPopup.value = false;\n                }\n            });\n        }\n        else {\n            if (shouldSelect) {\n                openPopup.value = false;\n            }\n        }\n    };\n    const showActionSheet = (_options) => {\n        Object.assign(options, defaultOptions, _options);\n        openPopup.value = true;\n    };\n    return {\n        data,\n        showTitle,\n        title,\n        showCancel,\n        cancelText,\n        overlay,\n        overlayClosable,\n        openPopup,\n        showActionSheet,\n        popupCloseEvent,\n        actionClickEvent,\n    };\n};\n//# sourceMappingURL=D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/action-sheet/src/composables/use-action-sheet.js.map","references":["D:/DEV/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/index.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/action-sheet/src/action-sheet.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"use-action-sheet.js\",\"sourceRoot\":\"\",\"sources\":[\"use-action-sheet.ts\"],\"names\":[],\"mappings\":\"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\"}"}
