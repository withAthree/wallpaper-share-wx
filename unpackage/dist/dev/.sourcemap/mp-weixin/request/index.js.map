{"version":3,"file":"index.js","sources":["request/index.uts"],"sourcesContent":["const TIMEOUT = 10 * 1000\r\nfunction newHttp() {\r\n\treturn {\r\n\t\tpost: (url, params) => {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t'Content-Type': 'application/json;charset=UTF-8',\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: TIMEOUT,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tget: (url, params) => {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\ttoken: uni.getStorageSync('token'),\r\n\t\t\t\t\t\t'Content-Type': 'application/json;charset=UTF-8',\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: TIMEOUT,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const http = newHttp()"],"names":["uni"],"mappings":";;AAAA,MAAM,UAAU,KAAK;AACrB,SAAS,UAAO;AACf,SAAO,IAAA,cAAA;AAAA,IACN,MAAM,CAAC,MAAG,MAAE,SAAM,SAAA;AACjB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAM;AAClCA,sBAAAA,MAAI,QAAQ;AAAA,UACX;AAAA,UACA,QAAQ;AAAA,UACR,MAAM;AAAA,UACN,QAAQ,IAAA,cAAA;AAAA,YACP,OAAOA,cAAAA,MAAI,eAAe,OAAO;AAAA,YACjC,gBAAgB;AAAA,WAChB;AAAA,UACD,SAAS;AAAA,UACT,SAAS,CAAC,QAAG;AACZ,oBAAQ,GAAG;AAAA,UACX;AAAA,UACD,MAAM,CAAC,QAAG;AACT,mBAAO,GAAG;AAAA,UACV;AAAA,QACD,CAAA;AAAA,MACF,CAAC;AAAA,IACD;AAAA,IACD,KAAK,CAAC,MAAG,MAAE,SAAM,SAAA;AAChB,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAM;AAClCA,sBAAAA,MAAI,QAAQ;AAAA,UACX;AAAA,UACA,QAAQ;AAAA,UACR,MAAM;AAAA,UACN,QAAQ,IAAA,cAAA;AAAA,YACP,OAAOA,cAAAA,MAAI,eAAe,OAAO;AAAA,YACjC,gBAAgB;AAAA,WAChB;AAAA,UACD,SAAS;AAAA,UACT,SAAS,CAAC,QAAG;AACZ,oBAAQ,GAAG;AAAA,UACX;AAAA,UACD,MAAM,CAAC,QAAG;AACT,mBAAO,GAAG;AAAA,UACV;AAAA,QACD,CAAA;AAAA,MACF,CAAC;AAAA,IACD;AAAA,GACD;AACF;AAEa,MAAA,OAAO,QAAO;;"}