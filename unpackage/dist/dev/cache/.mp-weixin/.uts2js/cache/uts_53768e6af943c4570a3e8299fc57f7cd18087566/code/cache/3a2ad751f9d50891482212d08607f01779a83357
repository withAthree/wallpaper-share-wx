{"code":"import { ref } from 'vue';\nexport const useTouch = () => {\n    // 触摸事件配置\n    const options = {\n        disabled: false,\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        faultTolerance: 10,\n    };\n    // 开始坐标，减去开始坐标\n    const startX = ref(0);\n    const startY = ref(0);\n    // 当前坐标，减去开始坐标\n    const currentX = ref(0);\n    const currentY = ref(0);\n    // 移动偏移量\n    const deltaX = ref(0);\n    const deltaY = ref(0);\n    // 移动距离\n    const distanceX = ref(0);\n    const distanceY = ref(0);\n    // 移动方向\n    const isVertical = ref(false);\n    const isHorizontal = ref(false);\n    // 是否为点击\n    const isClick = ref(false);\n    // 标记开始触摸\n    let touchFlag;\n    // 更新配置\n    const updateOptions = (newOptions) => {\n        Object.assign(options, newOptions);\n    };\n    // 开始触摸事件\n    const onTouchStart = (event) => {\n        if (options.disabled || !event.changedTouches[0])\n            return;\n        startX.value = _edgeProcessing(event.changedTouches[0].pageX, 'x');\n        startY.value = _edgeProcessing(event.changedTouches[0].pageY, 'y');\n        touchFlag = 'touch';\n    };\n    // 开始滑动事件\n    const onTouchMove = (event) => {\n        if (options.disabled || !event.changedTouches[0])\n            return;\n        currentX.value = _edgeProcessing(event.changedTouches[0].pageX, 'x');\n        currentY.value = _edgeProcessing(event.changedTouches[0].pageY, 'y');\n        updateDistanceInfo();\n        touchFlag = 'moving';\n    };\n    // 触摸结束事件\n    const onTouchEnd = (event) => {\n        if (options.disabled || !event.changedTouches[0] || touchFlag === 'end')\n            return;\n        currentX.value = _edgeProcessing(event.changedTouches[0].pageX, 'x');\n        currentY.value = _edgeProcessing(event.changedTouches[0].pageY, 'y');\n        updateDistanceInfo();\n        isVertical.value =\n            distanceX.value < options.faultTolerance &&\n                distanceY.value >= options.faultTolerance;\n        isHorizontal.value =\n            distanceX.value >= options.faultTolerance &&\n                distanceY.value < options.faultTolerance;\n        isClick.value = !isHorizontal.value && !isVertical.value;\n        touchFlag = 'end';\n    };\n    // 更新距离信息\n    const updateDistanceInfo = () => {\n        deltaX.value = currentX.value - startX.value;\n        deltaY.value = currentY.value - startY.value;\n        distanceX.value = Math.abs(deltaX.value);\n        distanceY.value = Math.abs(deltaY.value);\n    };\n    // 边缘位置处理\n    const _edgeProcessing = (touchPosition, direction) => {\n        const left = options.left, right = options.right, top = options.top, bottom = options.bottom;\n        if (direction === 'x') {\n            if (touchPosition < left)\n                return 0;\n            if (touchPosition > right)\n                return right - left;\n            return touchPosition - left;\n        }\n        else {\n            if (touchPosition < top)\n                return 0;\n            if (touchPosition > bottom)\n                return bottom - top;\n            return touchPosition - top;\n        }\n    };\n    return {\n        startX,\n        startY,\n        currentX,\n        currentY,\n        deltaX,\n        deltaY,\n        distanceX,\n        distanceY,\n        isVertical,\n        isHorizontal,\n        isClick,\n        updateOptions,\n        onTouchStart,\n        onTouchMove,\n        onTouchEnd,\n    };\n};\n//# sourceMappingURL=D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/hooks/use-touch/index.js.map","references":["D:/DEV/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"index.ts\"],\"names\":[],\"mappings\":\"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\"}"}
