{"code":"import { __awaiter } from \"tslib\";\nimport { getCurrentInstance, nextTick, onMounted, ref } from 'vue';\nimport { useSelectorQuery } from '../../../../hooks';\nimport { debugWarn, generateId } from '../../../../utils';\nexport const useWeekCalendarSelector = () => {\n    const instance = getCurrentInstance();\n    if (!instance) {\n        debugWarn('TnWeekCalendar', '请在 setup 中使用 useWeekCalendarSelector');\n    }\n    const componentDateItemId = `twcdi-${generateId()}`;\n    const getSelectorNodeInfo = useSelectorQuery(instance).getSelectorNodeInfo;\n    // 存放日期节点容器的高度\n    const dateItemContainerHeight = ref(0);\n    let initCount = 0;\n    // 获取日期节点信息\n    const getDateItemNodeInfo = () => { return __awaiter(void 0, void 0, void 0, function* () {\n        try {\n            const nodeInfo = yield getSelectorNodeInfo(`#${componentDateItemId}-0-0`);\n            dateItemContainerHeight.value = nodeInfo.height || 0;\n            dateItemContainerHeight.value += uni.upx2px(16);\n        }\n        catch (err) {\n            if (initCount > 10) {\n                initCount = 0;\n                debugWarn('TnWeekCalendar', `获取日期节点信息失败：${err}`);\n                return;\n            }\n            initCount++;\n            setTimeout(() => {\n                getDateItemNodeInfo();\n            }, 150);\n        }\n    }); };\n    onMounted(() => {\n        nextTick(() => {\n            getDateItemNodeInfo();\n        });\n    });\n    return {\n        componentDateItemId,\n        dateItemContainerHeight,\n    };\n};\n//# sourceMappingURL=D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/week-calendar/src/composables/use-week-calendar-selector.js.map","references":["D:/DEV/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/hooks/index.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/index.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"use-week-calendar-selector.js\",\"sourceRoot\":\"\",\"sources\":[\"use-week-calendar-selector.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,EAAE,MAAM,KAAK,CAAA;AAElE,OAAO,EAAE,gBAAgB,EAAE,MAAM,mBAAmB,CAAA;AACpD,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,mBAAmB,CAAA;AAEzD,MAAM,CAAC,MAAM,uBAAuB,GAAG;IACrC,MAAM,QAAQ,GAAG,kBAAkB,EAAE,CAAA;IACrC,IAAI,CAAC,QAAQ,EAAE;QACb,SAAS,CAAC,gBAAgB,EAAE,sCAAsC,CAAC,CAAA;KACpE;IAED,MAAM,mBAAmB,GAAG,SAAS,UAAU,EAAE,EAAE,CAAA;IAE3C,MAAA,mBAAmB,GAAK,gBAAgB,CAAC,QAAQ,CAAC,oBAA/B,CAA+B;IAE1D,cAAc;IACd,MAAM,uBAAuB,GAAG,GAAG,CAAS,CAAC,CAAC,CAAA;IAE9C,IAAI,SAAS,GAAG,CAAC,CAAA;IACjB,WAAW;IACX,MAAM,mBAAmB,GAAG;QAC1B,IAAI;YACF,MAAM,QAAQ,GAAG,MAAM,mBAAmB,CAAC,IAAI,mBAAmB,MAAM,CAAC,CAAA;YAEzE,uBAAuB,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAA;YACpD,uBAAuB,CAAC,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;SAChD;QAAC,OAAO,GAAG,EAAE;YACZ,IAAI,SAAS,GAAG,EAAE,EAAE;gBAClB,SAAS,GAAG,CAAC,CAAA;gBACb,SAAS,CAAC,gBAAgB,EAAE,cAAc,GAAG,EAAE,CAAC,CAAA;gBAChD,OAAM;aACP;YACD,SAAS,EAAE,CAAA;YACX,UAAU,CAAC;gBACT,mBAAmB,EAAE,CAAA;YACvB,CAAC,EAAE,GAAG,CAAC,CAAA;SACR;IACH,CAAC,IAAA,CAAA;IAED,SAAS,CAAC;QAER,QAAQ,CAAC;YACP,mBAAmB,EAAE,CAAA;QACvB,CAAC,CAAC,CAAA;IAOJ,CAAC,CAAC,CAAA;IAEF,OAAO;QACL,mBAAmB;QACnB,uBAAuB;KACxB,CAAA;AACH,CAAC,CAAA\"}"}
