{"version":3,"file":"use-notify.js","sources":["uni_modules/tuniaoui-vue3/components/notify/src/composables/use-notify.ts"],"sourcesContent":["import { ref } from 'vue'\n\nimport type { NotifyOptions } from '../notify'\n\nexport const useNotify = () => {\n  // notify的默认配置项\n  const defaultOptions: NotifyOptions = {\n    msg: '',\n    type: 'primary',\n    position: 'top',\n    bgColor: '',\n    textColor: '',\n    duration: 3000,\n  }\n  // notify的配置项\n  const options = ref<NotifyOptions>({\n    msg: '',\n    type: 'primary',\n    position: '',\n    bgColor: '',\n    textColor: '',\n    duration: 3000,\n  })\n\n  // 显示notify\n  const isActive = ref(false)\n\n  // 弹出notify通知\n  const showNotify = (_options: NotifyOptions) => {\n    Object.assign(options.value, defaultOptions, _options)\n    isActive.value = true\n    autoCloseNotify()\n  }\n\n  // 自动关闭弹框\n  let autoCloseTimer: ReturnType<typeof setTimeout> | null = null\n  const autoCloseNotify = () => {\n    if (autoCloseTimer) clearTimeout(autoCloseTimer)\n    autoCloseTimer = setTimeout(() => {\n      isActive.value = false\n    }, options.value.duration)\n  }\n\n  return {\n    options,\n    isActive,\n    showNotify,\n  }\n}\n"],"names":["ref"],"mappings":";;AAIa,MAAA,YAAY,MAAA;AAEvB,QAAM,iBAAgC;AAAA,IACpC,KAAK;AAAA,IACL,MAAM;AAAA,IACN,UAAU;AAAA,IACV,SAAS;AAAA,IACT,WAAW;AAAA,IACX,UAAU;AAAA;AAGZ,QAAM,UAAUA,cAAAA,IAAmB;AAAA,IACjC,KAAK;AAAA,IACL,MAAM;AAAA,IACN,UAAU;AAAA,IACV,SAAS;AAAA,IACT,WAAW;AAAA,IACX,UAAU;AAAA,EACX,CAAA;AAGD,QAAM,WAAWA,kBAAI,KAAK;AAG1B,QAAM,aAAa,CAAC,aAAuB;AACzC,WAAO,OAAO,QAAQ,OAAO,gBAAgB,QAAQ;AACrD,aAAS,QAAQ;AACjB;EACF;AAGA,MAAI,iBAAuD;AAC3D,QAAM,kBAAkB,MAAA;AACtB,QAAI;AAAgB,mBAAa,cAAc;AAC/C,qBAAiB,WAAW,MAAA;AAC1B,eAAS,QAAQ;AAAA,IACnB,GAAG,QAAQ,MAAM,QAAQ;AAAA,EAC3B;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA;AAEJ;;"}