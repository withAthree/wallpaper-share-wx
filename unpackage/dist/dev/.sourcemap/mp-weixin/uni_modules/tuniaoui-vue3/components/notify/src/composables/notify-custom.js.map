{"version":3,"file":"notify-custom.js","sources":["uni_modules/tuniaoui-vue3/components/notify/src/composables/notify-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { useComponentColor, useNamespace } from '../../../../hooks'\nimport { formatDomSizeValue, isEmptyVariableInDefault } from '../../../../utils'\n\nimport type { CSSProperties, Ref } from 'vue'\nimport type { NotifyOptions, NotifyProps } from '../notify'\n\nexport const useNotifyCustomStyle = (\n  props: NotifyProps,\n  options: Ref<NotifyOptions>,\n  isActive: Ref<boolean>\n) => {\n  const ns = useNamespace('notify')\n\n  // 解析颜色\n  const [bgColorClass, bgColorStyle] = useComponentColor(\n    toRef(options.value, 'bgColor'),\n    'bg'\n  )\n  const [textColorClass, textColorStyle] = useComponentColor(\n    toRef(options.value, 'textColor'),\n    'text'\n  )\n\n  // notify对应的类\n  const notifyClass = computed<string>(() => {\n    const cls: string[] = [ns.b()]\n\n    // 设置类型和颜色\n    if (options.value.type) cls.push(`tn-type-${options.value.type}_bg`)\n    if (bgColorClass.value) cls.push(bgColorClass.value)\n    if (textColorClass.value) cls.push(textColorClass.value)\n\n    // 设置弹出位置\n    cls.push(ns.m(isEmptyVariableInDefault(options?.value.position, 'top')))\n\n    if (isActive.value) cls.push(ns.is('active'))\n\n    return cls.join(' ')\n  })\n  // notify对应的样式\n  const notifyStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    if (bgColorStyle.value) style.backgroundColor = bgColorStyle.value\n\n    if (textColorStyle.value) {\n      style.color = textColorStyle.value\n    } else if (\n      !bgColorClass.value &&\n      !textColorClass.value &&\n      !options.value.type\n    ) {\n      style.color = 'var(--tn-color-white)'\n    }\n\n    // 如果当前是顶部弹出，则设置顶部距离\n    if (options.value.position === 'top' && props.offsetTop) {\n      style.top = formatDomSizeValue(props.offsetTop, 'px')\n    }\n\n    if (props.zIndex) style.zIndex = props.zIndex\n\n    return style\n  })\n\n  return {\n    notifyClass,\n    notifyStyle,\n  }\n}\n"],"names":["useNamespace","__read","useComponentColor","toRef","computed","isEmptyVariableInDefault","formatDomSizeValue"],"mappings":";;;;;;;;MAOa,uBAAuB,CAClC,OACA,SACA,aAAsB;AAEtB,QAAM,KAAKA,+DAAa,QAAQ;AAG1B,QAAA,KAAAC,cAAAA,OAA+BC,uDAAiB,kBACpDC,cAAK,MAAC,QAAQ,OAAO,SAAS,GAC9B,IAAI,GACL,CAAA,GAHM,eAAY,GAAA,CAAA,GAAE,eAAY,GAAA,CAAA;AAI3B,QAAA,KAAAF,cAAAA,OAAmCC,uDAAiB,kBACxDC,cAAK,MAAC,QAAQ,OAAO,WAAW,GAChC,MAAM,GACP,CAAA,GAHM,iBAAc,GAAA,CAAA,GAAE,iBAAc,GAAA,CAAA;AAMrC,QAAM,cAAcC,cAAAA,SAAiB,MAAA;AACnC,UAAM,MAAgB,CAAC,GAAG,EAAG,CAAA;AAG7B,QAAI,QAAQ,MAAM;AAAM,UAAI,KAAK,WAAW,QAAQ,MAAM,IAAI,KAAK;AACnE,QAAI,aAAa;AAAO,UAAI,KAAK,aAAa,KAAK;AACnD,QAAI,eAAe;AAAO,UAAI,KAAK,eAAe,KAAK;AAGvD,QAAI,KAAK,GAAG,EAAEC,uCAAAA,yBAAyB,YAAO,QAAP,YAAA,SAAA,SAAA,QAAS,MAAM,UAAU,KAAK,CAAC,CAAC;AAEvE,QAAI,SAAS;AAAO,UAAI,KAAK,GAAG,GAAG,QAAQ,CAAC;AAE5C,WAAO,IAAI,KAAK,GAAG;AAAA,EACrB,CAAC;AAED,QAAM,cAAcD,cAAAA,SAAwB,MAAA;AAC1C,UAAM,QAAuB,CAAA;AAE7B,QAAI,aAAa;AAAO,YAAM,kBAAkB,aAAa;AAE7D,QAAI,eAAe,OAAO;AACxB,YAAM,QAAQ,eAAe;AAAA,IAC9B,WACC,CAAC,aAAa,SACd,CAAC,eAAe,SAChB,CAAC,QAAQ,MAAM,MACf;AACA,YAAM,QAAQ;AAAA,IACf;AAGD,QAAI,QAAQ,MAAM,aAAa,SAAS,MAAM,WAAW;AACvD,YAAM,MAAME,wCAAkB,mBAAC,MAAM,WAAW,IAAI;AAAA,IACrD;AAED,QAAI,MAAM;AAAQ,YAAM,SAAS,MAAM;AAEvC,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA;AAEJ;;"}