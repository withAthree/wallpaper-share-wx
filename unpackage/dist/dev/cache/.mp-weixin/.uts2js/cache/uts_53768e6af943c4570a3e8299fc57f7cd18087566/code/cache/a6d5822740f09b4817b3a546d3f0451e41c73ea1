{"code":"import { nextTick, ref, watch } from 'vue';\nimport { debounce, throttle } from '../../../../libs/lodash';\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../../constants';\nexport const useSearchBox = (props, emits) => {\n    // 是否显示placeholder\n    const showPlaceholder = ref(!props.modelValue);\n    // 输入框的值\n    const inputValue = ref(props.modelValue);\n    watch(() => { return props.modelValue; }, (val) => {\n        if (props.modelValue === inputValue.value)\n            return;\n        inputValue.value = val;\n        showPlaceholder.value = !val;\n    });\n    // 输入框聚焦\n    const inputFocus = ref(false);\n    if (props.focus) {\n        showPlaceholder.value = false;\n        nextTick(() => {\n            inputFocus.value = true;\n        });\n    }\n    // searchBox点击事件\n    const searchBoxClickEvent = () => {\n        emits('click');\n        if (props.disabled)\n            return;\n        showPlaceholder.value = false;\n        inputFocus.value = true;\n    };\n    // 输入框获取焦点事件\n    const inputFocusEvent = () => {\n        emits('focus');\n    };\n    // 输入框失去焦点事件\n    const inputBlurEvent = () => {\n        showPlaceholder.value = !inputValue.value;\n        inputFocus.value = false;\n        emits('blur');\n    };\n    // 输入框输入事件\n    const inputHandle = () => {\n        emits(UPDATE_MODEL_EVENT, inputValue.value);\n        nextTick(() => {\n            emits(CHANGE_EVENT, inputValue.value);\n            emits('input', inputValue.value);\n        });\n    };\n    const inputValueEvent = props.throllte\n        ? throttle(inputHandle, props.throllteTime)\n        : inputHandle;\n    // 清除按钮点击事件\n    const clearClickEvent = () => {\n        inputValue.value = '';\n        emits(UPDATE_MODEL_EVENT, '');\n        nextTick(() => {\n            inputFocus.value = true;\n            emits(CHANGE_EVENT, '');\n            emits('clear');\n        });\n    };\n    // 点击search按钮事件\n    const searchBtnClickEvent = debounce(() => {\n        if (props.disabled)\n            return;\n        emits('search', inputValue.value);\n    }, 250);\n    return {\n        showPlaceholder,\n        inputValue,\n        inputFocus,\n        searchBoxClickEvent,\n        inputFocusEvent,\n        inputBlurEvent,\n        inputValueEvent,\n        clearClickEvent,\n        searchBtnClickEvent,\n    };\n};\n//# sourceMappingURL=D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/search-box/src/composables/use-search-box.js.map","references":["D:/DEV/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/libs/lodash/index.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/constants/index.ts","D:/DEV/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/search-box/src/search-box.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"use-search-box.js\",\"sourceRoot\":\"\",\"sources\":[\"use-search-box.ts\"],\"names\":[],\"mappings\":\"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\"}"}
