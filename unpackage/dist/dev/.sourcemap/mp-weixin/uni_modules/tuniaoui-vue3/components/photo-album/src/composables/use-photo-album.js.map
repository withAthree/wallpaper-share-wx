{"version":3,"file":"use-photo-album.js","sources":["uni_modules/tuniaoui-vue3/components/photo-album/src/composables/use-photo-album.ts"],"sourcesContent":["import { computed } from 'vue'\r\nimport {} from '../../../../utils'\r\n\r\nimport type { SetupContext } from 'vue'\r\nimport type { PhotoAlbumEmit, PhotoAlbumProps } from '../photo-album'\r\n\r\nexport const usePhotoAlbum = (\r\n  props: PhotoAlbumProps,\r\n  emits: SetupContext<PhotoAlbumEmit>['emit']\r\n) => {\r\n  // 相册图片数据\r\n  const imageData = computed<string[]>(() => {\r\n    const maxLength = Math.min(props.data.length, props.max)\r\n    return props.data.slice(0, maxLength)\r\n  })\r\n\r\n  // 图片点击事件\r\n  const imageClickEvent = (index: number) => {\r\n    emits('click', index)\r\n    if (!props.preview) return\r\n    uni.previewImage({\r\n      urls: imageData.value,\r\n      current: index,\r\n    })\r\n  }\r\n\r\n  return {\r\n    imageData,\r\n    imageClickEvent,\r\n  }\r\n}\r\n"],"names":["computed","uni"],"mappings":";;;AAMa,MAAA,gBAAgB,CAC3B,OACA,UAA2C;AAG3C,QAAM,YAAYA,cAAAA,SAAmB,MAAA;AACnC,UAAM,YAAY,KAAK,IAAI,MAAM,KAAK,QAAQ,MAAM,GAAG;AACvD,WAAO,MAAM,KAAK,MAAM,GAAG,SAAS;AAAA,EACtC,CAAC;AAGD,QAAM,kBAAkB,CAAC,UAAa;AACpC,UAAM,SAAS,KAAK;AACpB,QAAI,CAAC,MAAM;AAAS;AACpBC,kBAAAA,MAAI,aAAa;AAAA,MACf,MAAM,UAAU;AAAA,MAChB,SAAS;AAAA,IACV,CAAA;AAAA,EACH;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA;AAEJ;;"}