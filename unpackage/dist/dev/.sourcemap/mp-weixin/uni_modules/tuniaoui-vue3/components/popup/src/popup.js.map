{"version":3,"file":"popup.js","sources":["uni_modules/tuniaoui-vue3/components/popup/src/popup.ts","uni_modules/tuniaoui-vue3/components/popup/src/popup.vue","../../HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovRGV2ZWxvcG1lbnQvcHJvamVjdC93YWxscGFwZXItc2hhcmUtd3gvdW5pX21vZHVsZXMvdHVuaWFvdWktdnVlMy9jb21wb25lbnRzL3BvcHVwL3NyYy9wb3B1cC52dWU"],"sourcesContent":["import { UPDATE_MODEL_EVENT, ZIndex } from '../../../constants'\nimport { buildProps, isBoolean } from '../../../utils'\nimport { useComponentSafeAreaInsetBottomProp } from '../../base/composables/use-component-common-props'\nimport { overlayProps } from '../../overlay'\n\nimport type { ExtractPropTypes } from 'vue'\n\nexport const popupOpenDirection = [\n  'top',\n  'bottom',\n  'left',\n  'right',\n  'center',\n] as const\n\nexport const popupCloseBtnPosition = [\n  'left-top',\n  'right-top',\n  'left-bottom',\n  'right-bottom',\n] as const\n\nexport const popupProps = buildProps({\n  /**\n   * @description 控制弹框是否显示\n   */\n  modelValue: Boolean,\n  /**\n   * @description 弹框打开的方向\n   */\n  openDirection: {\n    type: String,\n    values: popupOpenDirection,\n    default: 'center',\n  },\n  /**\n   * @description 弹窗的宽度，在 openDirection 为 left 或 right 或 center 时生效\n   */\n  width: {\n    type: [String, Number],\n  },\n  /**\n   * @description 弹窗的高度，在 openDirection 为 top 或 bottom 或 center 时生效\n   */\n  height: {\n    type: [String, Number],\n  },\n  /**\n   * @description 弹框的内容的背景颜色\n   */\n  bgColor: {\n    type: String,\n    default: '#fff',\n  },\n  /**\n   * @description 弹框的内容的圆角\n   */\n  radius: {\n    type: [String, Number],\n    default: 15,\n  },\n  /**\n   * @description 是否显示overlay遮罩层\n   */\n  overlay: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description overlay遮罩层的透明度\n   */\n  overlayOpacity: overlayProps['opacity'],\n  /**\n   * @description 点击overlay关闭弹框\n   */\n  overlayCloseable: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description 是否显示关闭按钮\n   */\n  closeBtn: Boolean,\n  /**\n   * @description 关闭按钮的位置\n   */\n  closeBtnPosition: {\n    type: String,\n    values: popupCloseBtnPosition,\n    default: 'right-top',\n  },\n  /**\n   * @description 底部是否开启安全区域\n   */\n  safeAreaInsetBottom: useComponentSafeAreaInsetBottomProp,\n  /**\n   * @description zIndex\n   */\n  zIndex: {\n    type: Number,\n    default: ZIndex.popup,\n  },\n  /**\n   * @description 距离顶部的距离，在 openDirection 为 top 或 left 或 right 时生效，默认单位为`px`\n   */\n  top: {\n    type: [String, Number],\n  },\n})\n\nexport const popupEmits = {\n  [UPDATE_MODEL_EVENT]: (value: boolean) => isBoolean(value),\n  open: () => true,\n  close: () => true,\n  ['overlay-click']: () => true,\n}\n\nexport type PopupProps = ExtractPropTypes<typeof popupProps>\nexport type PopupEmits = typeof popupEmits\n\nexport type PopupOpenDirection = (typeof popupOpenDirection)[number]\nexport type PopupCloseBtnPosition = (typeof popupCloseBtnPosition)[number]\n","<script lang=\"uts\" setup>\nimport TnOverlay from '../../overlay/src/overlay.vue'\nimport TnIcon from '../../icon/src/icon.vue'\nimport { popupEmits, popupProps } from './popup'\nimport { usePopup, usePopupCustomStyle } from './composables'\n\nconst props = defineProps(popupProps)\ndefineEmits(popupEmits)\n\nconst {\n  iosDevice,\n  showOverlay,\n  showPopup,\n  visiblePopup,\n  onClickCloseBtn,\n  onClickOverlay,\n} = usePopup(props)\nconst { ns, overlayZIndex, zIndex, popupContentClass, popupContentStyle } =\n  usePopupCustomStyle(props)\n</script>\n\n<template>\n  <view\n    v-if=\"!iosDevice || (iosDevice && visiblePopup)\"\n    :class=\"[ns.b(), ns.is('show', showPopup), ns.is('visible', visiblePopup)]\"\n    :style=\"{\n      zIndex,\n    }\"\n  >\n    <!-- 遮罩层 -->\n    <TnOverlay\n      :show=\"showOverlay\"\n      :z-index=\"overlayZIndex\"\n      :opacity=\"overlayOpacity\"\n      @click=\"onClickOverlay\"\n    />\n\n    <!-- 弹框内容 -->\n    <view :class=\"[popupContentClass]\" :style=\"popupContentStyle\">\n      <slot />\n\n      <!-- 关闭按钮 -->\n      <view\n        v-if=\"closeBtn\"\n        :class=\"[ns.e('close-btn'), ns.em('close-btn', closeBtnPosition)]\"\n        @tap.stop=\"onClickCloseBtn\"\n      >\n        <slot name=\"closeBtn\">\n          <TnIcon name=\"close\" />\n        </slot>\n      </view>\n    </view>\n  </view>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../../../theme-chalk/src/popup.scss';\n</style>\n","import Component from 'D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/popup/src/popup.vue'\nwx.createComponent(Component)"],"names":["buildProps","overlayProps","useComponentSafeAreaInsetBottomProp","ZIndex","UPDATE_MODEL_EVENT","isBoolean","usePopup","usePopupCustomStyle"],"mappings":";;;;;;;;;;;AAOO,MAAM,qBAAqB;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;;AAGK,MAAM,wBAAwB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA;;AAGK,MAAM,aAAaA,iDAAAA,WAAW;AAAA;AAAA;AAAA;AAAA,EAInC,YAAY;AAAA;AAAA;AAAA;AAAA,EAIZ,eAAe;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAID,OAAO;AAAA,IACL,MAAM,CAAC,QAAQ,MAAM;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA,EAID,QAAQ;AAAA,IACN,MAAM,CAAC,QAAQ,MAAM;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA,EAID,SAAS;AAAA,IACP,MAAM;AAAA,IACN,SAAS;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAID,QAAQ;AAAA,IACN,MAAM,CAAC,QAAQ,MAAM;AAAA,IACrB,SAAS;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAID,SAAS;AAAA,IACP,MAAM;AAAA,IACN,SAAS;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAID,gBAAgBC,kDAAY,aAAC,SAAS;AAAA;AAAA;AAAA;AAAA,EAItC,kBAAkB;AAAA,IAChB,MAAM;AAAA,IACN,SAAS;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAID,UAAU;AAAA;AAAA;AAAA;AAAA,EAIV,kBAAkB;AAAA,IAChB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,EACV;AAAA;AAAA;AAAA;AAAA,EAID,qBAAqBC,mFAAmC;AAAA;AAAA;AAAA;AAAA,EAIxD,QAAQ;AAAA,IACN,MAAM;AAAA,IACN,SAASC,0CAAM,OAAC;AAAA,EACjB;AAAA;AAAA;AAAA;AAAA,EAID,KAAK;AAAA,IACH,MAAM,CAAC,QAAQ,MAAM;AAAA,EACtB;AACF,CAAA;AAEM,MAAM,aAAa;AAAA,EACxB,CAACC,yCAAAA,kBAAkB,GAAG,CAAC,UAAc;AAAK,WAAAC,+CAAS,UAAC,KAAK;AAAA,EAAC;AAAA,EAC1D,MAAM,MAAA;AAAM,WAAA;AAAA,EAAI;AAAA,EAChB,OAAO,MAAA;AAAM,WAAA;AAAA,EAAI;AAAA,EACjB,CAAC,eAAe,GAAG;AAAM,WAAA;AAAA,EAAI;;;;;ACjH/B,MAAO,YAAe,MAAA;AACtB,MAAO,SAAY,MAAA;;;;;;AAInB,UAAM,QAAQ;AAGR,UAAA,KAOFC,4EAAS,KAAK,GANhB,YAAS,GAAA,WACT,cAAW,GAAA,aACX,YAAS,GAAA,WACT,eAAY,GAAA,cACZ,kBAAe,GAAA,iBACf,iBAAc,GAAA;AAEV,UAAA,KACJC,sEAAmB,oBAAC,KAAK,GADnB,YAAI,kCAAe,oBAAQ,0CAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBtD,GAAG,gBAAgB,SAAS;"}