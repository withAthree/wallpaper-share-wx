{"code":"import { format } from '../util';\nconst range = (rule, value, source, errors, options) => {\n    const len = typeof rule.len === 'number';\n    const min = typeof rule.min === 'number';\n    const max = typeof rule.max === 'number';\n    // 正则匹配码点范围从U+010000一直到U+10FFFF的文字（补充平面Supplementary Plane）\n    const spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    let val = value;\n    let key = null;\n    const num = typeof value === 'number';\n    const str = typeof value === 'string';\n    const arr = Array.isArray(value);\n    if (num) {\n        key = 'number';\n    }\n    else if (str) {\n        key = 'string';\n    }\n    else if (arr) {\n        key = 'array';\n    }\n    // if the value is not of a supported type for range validation\n    // the validation rule rule should use the\n    // type property to also test for a particular type\n    if (!key) {\n        return false;\n    }\n    if (arr) {\n        val = value.length;\n    }\n    if (str) {\n        // 处理码点大于U+010000的文字length属性不准确的bug，如\"𠮷𠮷𠮷\".length !== 3\n        val = value.replace(spRegexp, '_').length;\n    }\n    if (len) {\n        if (val !== rule.len) {\n            errors.push(format(options.messages[key].len, rule.fullField, rule.len));\n        }\n    }\n    else if (min && !max && val < rule.min) {\n        errors.push(format(options.messages[key].min, rule.fullField, rule.min));\n    }\n    else if (max && !min && val > rule.max) {\n        errors.push(format(options.messages[key].max, rule.fullField, rule.max));\n    }\n    else if (min && max && (val < rule.min || val > rule.max)) {\n        errors.push(format(options.messages[key].range, rule.fullField, rule.min, rule.max));\n    }\n};\nexport default range;\n//# sourceMappingURL=D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/libs/async-validator/rule/range.js.map","references":["D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/libs/async-validator/interface.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/libs/async-validator/util.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"range.js\",\"sourceRoot\":\"\",\"sources\":[\"range.ts\"],\"names\":[],\"mappings\":\"AACA,OAAO,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEjC,MAAM,KAAK,GAAgB,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO;IAC9D,MAAM,GAAG,GAAG,OAAO,IAAI,CAAC,GAAG,KAAK,QAAQ,CAAC;IACzC,MAAM,GAAG,GAAG,OAAO,IAAI,CAAC,GAAG,KAAK,QAAQ,CAAC;IACzC,MAAM,GAAG,GAAG,OAAO,IAAI,CAAC,GAAG,KAAK,QAAQ,CAAC;IACzC,2DAA2D;IAC3D,MAAM,QAAQ,GAAG,iCAAiC,CAAC;IACnD,IAAI,GAAG,GAAG,KAAK,CAAC;IAChB,IAAI,GAAG,GAAG,IAAI,CAAC;IACf,MAAM,GAAG,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC;IACtC,MAAM,GAAG,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC;IACtC,MAAM,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IACjC,IAAI,GAAG,EAAE;QACP,GAAG,GAAG,QAAQ,CAAC;KAChB;SAAM,IAAI,GAAG,EAAE;QACd,GAAG,GAAG,QAAQ,CAAC;KAChB;SAAM,IAAI,GAAG,EAAE;QACd,GAAG,GAAG,OAAO,CAAC;KACf;IACD,+DAA+D;IAC/D,0CAA0C;IAC1C,mDAAmD;IACnD,IAAI,CAAC,GAAG,EAAE;QACR,OAAO,KAAK,CAAC;KACd;IACD,IAAI,GAAG,EAAE;QACP,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC;KACpB;IACD,IAAI,GAAG,EAAE;QACP,0DAA0D;QAC1D,GAAG,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;KAC3C;IACD,IAAI,GAAG,EAAE;QACP,IAAI,GAAG,KAAK,IAAI,CAAC,GAAG,EAAE;YACpB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SAC1E;KACF;SAAM,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE;QACxC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;KAC1E;SAAM,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE;QACxC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;KAC1E;SAAM,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE;QAC3D,MAAM,CAAC,IAAI,CACT,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CACxE,CAAC;KACH;AACH,CAAC,CAAC;AAEF,eAAe,KAAK,CAAC\"}"}
