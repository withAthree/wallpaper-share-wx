{"code":"import { getCurrentInstance } from 'vue';\nimport { debugWarn } from '../../utils';\nexport const useObserver = (instance) => {\n    if (!instance) {\n        instance = getCurrentInstance();\n    }\n    if (!instance) {\n        debugWarn('useObserver', '请在 setup 中使用 useObserver');\n    }\n    // Observer对象\n    let observerInstance = null;\n    const connectObserver = (selector, fn, fnOptions, options) => {\n        // 开始监听布局之前先停止旧的监听\n        disconnectObserver();\n        observerInstance = uni.createIntersectionObserver(instance, options);\n        if (fnOptions.type === 'relativeTo')\n            observerInstance.relativeTo((fnOptions === null || fnOptions === void 0 ? void 0 : fnOptions.selector) || '', fnOptions.margins);\n        else if (fnOptions.type === 'relativeToViewport')\n            observerInstance.relativeToViewport(fnOptions.margins);\n        observerInstance.observe(selector, (res) => {\n            fn && fn(res);\n        });\n    };\n    // 停止监听布局状态\n    const disconnectObserver = () => {\n        if (observerInstance) {\n            observerInstance.disconnect();\n            observerInstance = null;\n        }\n    };\n    return {\n        connectObserver,\n        disconnectObserver,\n    };\n};\n//# sourceMappingURL=D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/hooks/use-observer/index.js.map","references":["D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/index.ts","D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"index.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,kBAAkB,EAAE,MAAM,KAAK,CAAA;AACxC,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAA;AAevC,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,QAA2C;IACrE,IAAI,CAAC,QAAQ,EAAE;QACb,QAAQ,GAAG,kBAAkB,EAAE,CAAA;KAChC;IAMD,IAAI,CAAC,QAAQ,EAAE;QACb,SAAS,CAAC,aAAa,EAAE,0BAA0B,CAAC,CAAA;KACrD;IAED,aAAa;IACb,IAAI,gBAAgB,GAAuC,IAAI,CAAA;IAE/D,MAAM,eAAe,GAAG,CACtB,QAAgB,EAChB,EAAuC,EACvC,SAA4B,EAC5B,OAAkD;QAElD,kBAAkB;QAClB,kBAAkB,EAAE,CAAA;QAEpB,gBAAgB,GAAG,GAAG,CAAC,0BAA0B,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAA;QACpE,IAAI,SAAS,CAAC,IAAI,KAAK,YAAY;YACjC,gBAAgB,CAAC,UAAU,CAAC,CAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,QAAQ,KAAI,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,CAAA;aACtE,IAAI,SAAS,CAAC,IAAI,KAAK,oBAAoB;YAC9C,gBAAgB,CAAC,kBAAkB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAA;QAExD,gBAAgB,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,GAAG;YACrC,EAAE,IAAI,EAAE,CAAC,GAAG,CAAC,CAAA;QACf,CAAC,CAAC,CAAA;IACJ,CAAC,CAAA;IAED,WAAW;IACX,MAAM,kBAAkB,GAAG;QACzB,IAAI,gBAAgB,EAAE;YACpB,gBAAgB,CAAC,UAAU,EAAE,CAAA;YAC7B,gBAAgB,GAAG,IAAI,CAAA;SACxB;IACH,CAAC,CAAA;IAED,OAAO;QACL,eAAe;QACf,kBAAkB;KACnB,CAAA;AACH,CAAC,CAAA\"}"}
