{"code":"import { debugWarn } from '../error';\nimport { isEmptyVariableInDefault } from '../is-empty';\n/**\n * 返回上一页\n * @param indexUrl 首页地址\n * @param delta 返回的页面数，如果 delta 大于现有页面数，则返回到首页\n */\nexport function tnNavBack(indexUrl, delta = 1) {\n    const indexPageUrl = isEmptyVariableInDefault(indexUrl, '/pages/index/index');\n    // 通过判断当前页面的页面栈信息，是否有上一页进行返回，如果没有则跳转到首页\n    const pages = getCurrentPages();\n    if (pages === null || pages === void 0 ? void 0 : pages.length) {\n        const firstPage = pages[0];\n        if (pages.length === 1 &&\n            (!firstPage.route || (firstPage === null || firstPage === void 0 ? void 0 : firstPage.route) != indexPageUrl)) {\n            return tnNavPage(indexPageUrl, 'reLaunch');\n        }\n        else {\n            uni.navigateBack({\n                delta,\n            });\n            return Promise.resolve();\n        }\n    }\n    else {\n        return tnNavPage(indexPageUrl, 'reLaunch');\n    }\n}\n/**\n * 跳转到指定页面\n * @param url 页面地址\n * @param type 跳转类型\n */\nexport function tnNavPage(url, type = 'navigateTo') {\n    function handelNavFail(err) {\n        debugWarn('tnNavPage', `跳转页面失败: ${err}`);\n    }\n    return new Promise((resolve, reject) => {\n        switch (type) {\n            case 'navigateTo':\n                uni.navigateTo({\n                    url,\n                    success: () => {\n                        resolve();\n                    },\n                    fail: (err) => {\n                        handelNavFail(err);\n                        reject(err);\n                    },\n                });\n                break;\n            case 'redirectTo':\n                uni.redirectTo({\n                    url,\n                    success: () => {\n                        resolve();\n                    },\n                    fail: (err) => {\n                        handelNavFail(err);\n                        reject(err);\n                    },\n                });\n                break;\n            case 'reLaunch':\n                uni.reLaunch({\n                    url,\n                    success: () => {\n                        resolve();\n                    },\n                    fail: (err) => {\n                        handelNavFail(err);\n                        reject(err);\n                    },\n                });\n                break;\n            case 'switchTab':\n                uni.switchTab({\n                    url,\n                    success: () => {\n                        resolve();\n                    },\n                    fail: (err) => {\n                        handelNavFail(err);\n                        reject(err);\n                    },\n                });\n        }\n    });\n}\n//# sourceMappingURL=D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/uniapp/router.js.map","references":["D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/error.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/is-empty.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"router.js\",\"sourceRoot\":\"\",\"sources\":[\"router.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,UAAU,CAAA;AACpC,OAAO,EAAE,wBAAwB,EAAE,MAAM,aAAa,CAAA;AAItD;;;;GAIG;AACH,MAAM,UAAU,SAAS,CAAC,QAAiB,EAAE,KAAK,GAAG,CAAC;IACpD,MAAM,YAAY,GAAG,wBAAwB,CAAC,QAAQ,EAAE,oBAAoB,CAAC,CAAA;IAC7E,uCAAuC;IACvC,MAAM,KAAK,GAAG,eAAe,EAAE,CAAA;IAC/B,IAAI,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,EAAE;QACjB,MAAM,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;QAC1B,IACE,KAAK,CAAC,MAAM,KAAK,CAAC;YAClB,CAAC,CAAC,SAAS,CAAC,KAAK,IAAI,CAAA,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,KAAK,KAAI,YAAY,CAAC,EACtD;YACA,OAAO,SAAS,CAAC,YAAY,EAAE,UAAU,CAAC,CAAA;SAC3C;aAAM;YACL,GAAG,CAAC,YAAY,CAAC;gBACf,KAAK;aACN,CAAC,CAAA;YACF,OAAO,OAAO,CAAC,OAAO,EAAE,CAAA;SACzB;KACF;SAAM;QACL,OAAO,SAAS,CAAC,YAAY,EAAE,UAAU,CAAC,CAAA;KAC3C;AACH,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,SAAS,CAAC,GAAW,EAAE,OAAgB,YAAY;IACjE,SAAS,aAAa,CAAC,GAAQ;QAC7B,SAAS,CAAC,WAAW,EAAE,WAAW,GAAG,EAAE,CAAC,CAAA;IAC1C,CAAC;IACD,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,MAAM;QACvC,QAAQ,IAAI,EAAE;YACZ,KAAK,YAAY;gBACf,GAAG,CAAC,UAAU,CAAC;oBACb,GAAG;oBACH,OAAO,EAAE;wBACP,OAAO,EAAE,CAAA;oBACX,CAAC;oBACD,IAAI,EAAE,CAAC,GAAG;wBACR,aAAa,CAAC,GAAG,CAAC,CAAA;wBAClB,MAAM,CAAC,GAAG,CAAC,CAAA;oBACb,CAAC;iBACF,CAAC,CAAA;gBACF,MAAK;YACP,KAAK,YAAY;gBACf,GAAG,CAAC,UAAU,CAAC;oBACb,GAAG;oBACH,OAAO,EAAE;wBACP,OAAO,EAAE,CAAA;oBACX,CAAC;oBACD,IAAI,EAAE,CAAC,GAAG;wBACR,aAAa,CAAC,GAAG,CAAC,CAAA;wBAClB,MAAM,CAAC,GAAG,CAAC,CAAA;oBACb,CAAC;iBACF,CAAC,CAAA;gBACF,MAAK;YACP,KAAK,UAAU;gBACb,GAAG,CAAC,QAAQ,CAAC;oBACX,GAAG;oBACH,OAAO,EAAE;wBACP,OAAO,EAAE,CAAA;oBACX,CAAC;oBACD,IAAI,EAAE,CAAC,GAAG;wBACR,aAAa,CAAC,GAAG,CAAC,CAAA;wBAClB,MAAM,CAAC,GAAG,CAAC,CAAA;oBACb,CAAC;iBACF,CAAC,CAAA;gBACF,MAAK;YACP,KAAK,WAAW;gBACd,GAAG,CAAC,SAAS,CAAC;oBACZ,GAAG;oBACH,OAAO,EAAE;wBACP,OAAO,EAAE,CAAA;oBACX,CAAC;oBACD,IAAI,EAAE,CAAC,GAAG;wBACR,aAAa,CAAC,GAAG,CAAC,CAAA;wBAClB,MAAM,CAAC,GAAG,CAAC,CAAA;oBACb,CAAC;iBACF,CAAC,CAAA;SACL;IACH,CAAC,CAAC,CAAA;AACJ,CAAC\"}"}
