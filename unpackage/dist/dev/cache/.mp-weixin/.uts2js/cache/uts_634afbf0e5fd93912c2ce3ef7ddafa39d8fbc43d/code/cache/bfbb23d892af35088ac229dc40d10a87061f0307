{"code":"import { computed, getCurrentInstance, nextTick } from 'vue';\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../../constants';\nimport { useFormItem } from '../../../form';\nimport { debugWarn } from '../../../../utils';\nimport { useCheckboxCommonProps } from './use-checkbox-common-props';\n// 判断复选框组中是否包含某个值\nconst hasLabelInGroup = (groupValue, label) => { return groupValue.includes(label); };\nexport const useCheckbox = (props) => {\n    const emit = getCurrentInstance().emit;\n    const _a = useCheckboxCommonProps(props), checkboxGroup = _a.checkboxGroup, disabled = _a.disabled, maxDisabled = _a.maxDisabled, labelDisabled = _a.labelDisabled;\n    const formItem = useFormItem().formItem;\n    // 判断是否为复选组\n    const isGroup = computed(() => { return !!checkboxGroup; });\n    // 在复选组中是否选中当前复选框\n    const selected = computed(() => {\n        if (isGroup.value) {\n            return hasLabelInGroup(checkboxGroup.modelValue, props.label);\n        }\n        else {\n            return props.modelValue === props.activeValue;\n        }\n    });\n    // 复选框点击事件\n    const handleCheckboxClick = (type) => {\n        var _a;\n        if (disabled.value || maxDisabled.value)\n            return;\n        if (type === 'label' && labelDisabled.value)\n            return;\n        if (isGroup.value) {\n            checkboxGroup.changeEvent(props.label);\n        }\n        else {\n            const modelValue = selected.value\n                ? props.inactiveValue\n                : props.activeValue;\n            emit(UPDATE_MODEL_EVENT, modelValue);\n            nextTick(() => {\n                emit(CHANGE_EVENT, modelValue);\n            });\n            if (props.validateEvent) {\n                (_a = formItem === null || formItem === void 0 ? void 0 : formItem.validate) === null || _a === void 0 ? void 0 : _a.call(formItem, 'change').catch((err) => {\n                    debugWarn(err);\n                });\n            }\n        }\n    };\n    return {\n        isGroup,\n        selected,\n        handleCheckboxClick,\n    };\n};\n//# sourceMappingURL=D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/checkbox/src/composables/use-checkbox.js.map","references":["D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/constants/index.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/form/index.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/index.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/checkbox/src/composables/use-checkbox-common-props.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/checkbox/src/checkbox.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/base/types/checkbox/index.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"use-checkbox.js\",\"sourceRoot\":\"\",\"sources\":[\"use-checkbox.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,QAAQ,EAAE,kBAAkB,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAA;AAC5D,OAAO,EAAE,YAAY,EAAE,kBAAkB,EAAE,MAAM,uBAAuB,CAAA;AACxE,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAA;AAC3C,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAA;AAC7C,OAAO,EAAE,sBAAsB,EAAE,MAAM,6BAA6B,CAAA;AAKpE,iBAAiB;AACjB,MAAM,eAAe,GAAG,CACtB,UAA+B,EAC/B,KAAwB,OACrB,OAAA,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,EAA1B,CAA0B,CAAA;AAE/B,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,KAAoB;IACtC,MAAA,IAAI,GAAK,kBAAkB,EAAG,KAA1B,CAA0B;IAEhC,MAAA,KACJ,sBAAsB,CAAC,KAAK,CAAC,EADvB,aAAa,mBAAA,EAAE,QAAQ,cAAA,EAAE,WAAW,iBAAA,EAAE,aAAa,mBAC5B,CAAA;IAEvB,MAAA,QAAQ,GAAK,WAAW,EAAE,SAAlB,CAAkB;IAElC,WAAW;IACX,MAAM,OAAO,GAAG,QAAQ,CAAC,QAAM,OAAA,CAAC,CAAC,aAAa,EAAf,CAAe,CAAC,CAAA;IAE/C,iBAAiB;IACjB,MAAM,QAAQ,GAAG,QAAQ,CAAC;QACxB,IAAI,OAAO,CAAC,KAAK,EAAE;YACjB,OAAO,eAAe,CAAC,aAAc,CAAC,UAAU,EAAE,KAAK,CAAC,KAAM,CAAC,CAAA;SAChE;aAAM;YACL,OAAO,KAAK,CAAC,UAAU,KAAK,KAAK,CAAC,WAAW,CAAA;SAC9C;IACH,CAAC,CAAC,CAAA;IAEF,UAAU;IACV,MAAM,mBAAmB,GAAG,CAAC,IAA0B;;QACrD,IAAI,QAAQ,CAAC,KAAK,IAAI,WAAW,CAAC,KAAK;YAAE,OAAM;QAC/C,IAAI,IAAI,KAAK,OAAO,IAAI,aAAa,CAAC,KAAK;YAAE,OAAM;QAEnD,IAAI,OAAO,CAAC,KAAK,EAAE;YACjB,aAAc,CAAC,WAAW,CAAC,KAAK,CAAC,KAAM,CAAC,CAAA;SACzC;aAAM;YACL,MAAM,UAAU,GAAG,QAAQ,CAAC,KAAK;gBAC/B,CAAC,CAAC,KAAK,CAAC,aAAa;gBACrB,CAAC,CAAC,KAAK,CAAC,WAAW,CAAA;YACrB,IAAI,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAA;YACpC,QAAQ,CAAC;gBACP,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAA;YAChC,CAAC,CAAC,CAAA;YACF,IAAI,KAAK,CAAC,aAAa,EAAE;gBACvB,MAAA,QAAQ,aAAR,QAAQ,uBAAR,QAAQ,CAAE,QAAQ,yDAAG,QAAQ,EAAE,KAAK,CAAC,CAAC,GAAG;oBACvC,SAAS,CAAC,GAAG,CAAC,CAAA;gBAChB,CAAC,CAAC,CAAA;aACH;SACF;IACH,CAAC,CAAA;IAED,OAAO;QACL,OAAO;QACP,QAAQ;QACR,mBAAmB;KACpB,CAAA;AACH,CAAC,CAAA\"}"}
