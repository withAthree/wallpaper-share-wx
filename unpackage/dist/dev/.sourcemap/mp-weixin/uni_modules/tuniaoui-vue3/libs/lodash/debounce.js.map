{"version":3,"file":"debounce.js","sources":["uni_modules/tuniaoui-vue3/libs/lodash/debounce.ts"],"sourcesContent":["import { isObject } from '@vue/shared'\nimport { toNumber } from './_toNumber'\n\nimport type { DebounceSettings, DebouncedFunc } from './_common'\n\nconst FUNC_ERROR_TEXT = 'Expected a function'\n\nexport function debounce<T extends (...args: any) => any>(\n  func: T,\n  wait?: number,\n  options?: DebounceSettings\n): DebouncedFunc<T> {\n  let lastArgs: any\n  let lastThis: any\n  let maxWait: any\n  let result: any\n  let timerId: any\n  let lastCallTime: any\n  let lastInvokeTime = 0\n  let leading = false\n  let maxing = false\n  let trailing = true\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT)\n  }\n  wait = toNumber(wait) || 0\n  if (isObject(options)) {\n    leading = !!options.leading\n    maxing = 'maxWait' in options\n    maxWait = maxing\n      ? Math.max(toNumber(options.maxWait) || 0, wait as number)\n      : maxWait\n    trailing = 'trailing' in options ? !!options.trailing : trailing\n  }\n\n  function invokeFunc(time: number) {\n    const args = lastArgs,\n      thisArg = lastThis\n\n    lastArgs = lastThis = undefined\n    lastInvokeTime = time\n    result = func.apply(thisArg, args)\n    return result\n  }\n\n  function leadingEdge(time: number) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait)\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result\n  }\n\n  function remainingWait(time: number) {\n    const timeSinceLastCall = time - lastCallTime,\n      timeSinceLastInvoke = time - lastInvokeTime,\n      result = (wait as number) - timeSinceLastCall\n\n    return maxing ? Math.max(result, maxWait - timeSinceLastInvoke) : result\n  }\n\n  function shouldInvoke(time: number) {\n    const timeSinceLastCall = time - lastCallTime,\n      timeSinceLastInvoke = time - lastInvokeTime\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (\n      lastCallTime === undefined ||\n      timeSinceLastCall >= (wait as number) ||\n      timeSinceLastCall < 0 ||\n      (maxing && timeSinceLastInvoke >= maxWait)\n    )\n  }\n\n  function timerExpired() {\n    const time = Date.now()\n    if (shouldInvoke(time)) {\n      return trailingEdge(time)\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time))\n  }\n\n  function trailingEdge(time: number) {\n    timerId = undefined\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time)\n    }\n    lastArgs = lastThis = undefined\n    return result\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId)\n    }\n    lastInvokeTime = 0\n    lastArgs = lastCallTime = lastThis = timerId = undefined\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(Date.now())\n  }\n\n  function debounced(this: any) {\n    const time = Date.now(),\n      isInvoking = shouldInvoke(time)\n\n    // eslint-disable-next-line prefer-rest-params\n    lastArgs = arguments\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    lastThis = this\n    lastCallTime = time\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime)\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait)\n        return invokeFunc(lastCallTime)\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait)\n    }\n    return result\n  }\n\n  debounced.cancel = cancel\n  debounced.flush = flush\n  return debounced\n}\n"],"names":["toNumber","isObject","result"],"mappings":";;;AAKA,MAAM,kBAAkB;SAER,SACd,MACA,MACA,SAA0B;AAE1B,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,MAAI,iBAAiB;AACrB,MAAI,UAAU;AACd,MAAI,SAAS;AACb,MAAI,WAAW;AAEf,MAAI,OAAO,QAAQ,YAAY;AAC7B,UAAM,IAAI,UAAU,eAAe;AAAA,EACpC;AACD,SAAOA,+CAAQ,SAAC,IAAI,KAAK;AACzB,MAAIC,cAAAA,SAAS,OAAO,GAAG;AACrB,cAAU,CAAC,CAAC,QAAQ;AACpB,aAAS,aAAa;AACtB,cAAU,SACN,KAAK,IAAID,wDAAS,QAAQ,OAAO,KAAK,GAAG,IAAc,IACvD;AACJ,eAAW,cAAc,UAAU,CAAC,CAAC,QAAQ,WAAW;AAAA,EACzD;AAED,WAAS,WAAW,MAAY;AAC9B,UAAM,OAAO,UACX,UAAU;AAEZ,eAAW,WAAW;AACtB,qBAAiB;AACjB,aAAS,KAAK,MAAM,SAAS,IAAI;AACjC,WAAO;AAAA,EACR;AAED,WAAS,YAAY,MAAY;AAE/B,qBAAiB;AAEjB,cAAU,WAAW,cAAc,IAAI;AAEvC,WAAO,UAAU,WAAW,IAAI,IAAI;AAAA,EACrC;AAED,WAAS,cAAc,MAAY;AACjC,UAAM,oBAAoB,OAAO,cAC/B,sBAAsB,OAAO,gBAC7BE,UAAU,OAAkB;AAE9B,WAAO,SAAS,KAAK,IAAIA,SAAQ,UAAU,mBAAmB,IAAIA;AAAA,EACnE;AAED,WAAS,aAAa,MAAY;AAChC,UAAM,oBAAoB,OAAO,cAC/B,sBAAsB,OAAO;AAK/B,WACE,iBAAiB,UACjB,qBAAsB,QACtB,oBAAoB,KACnB,UAAU,uBAAuB;AAAA,EAErC;AAED,WAAS,eAAY;AACnB,UAAM,OAAO,KAAK;AAClB,QAAI,aAAa,IAAI,GAAG;AACtB,aAAO,aAAa,IAAI;AAAA,IACzB;AAED,cAAU,WAAW,cAAc,cAAc,IAAI,CAAC;AAAA,EACvD;AAED,WAAS,aAAa,MAAY;AAChC,cAAU;AAIV,QAAI,YAAY,UAAU;AACxB,aAAO,WAAW,IAAI;AAAA,IACvB;AACD,eAAW,WAAW;AACtB,WAAO;AAAA,EACR;AAED,WAAS,SAAM;AACb,QAAI,YAAY,QAAW;AACzB,mBAAa,OAAO;AAAA,IACrB;AACD,qBAAiB;AACjB,eAAW,eAAe,WAAW,UAAU;AAAA,EAChD;AAED,WAAS,QAAK;AACZ,WAAO,YAAY,SAAY,SAAS,aAAa,KAAK,IAAG,CAAE;AAAA,EAChE;AAED,WAAS,YAAS;AAChB,UAAM,OAAO,KAAK,IAAG,GACnB,aAAa,aAAa,IAAI;AAGhC,eAAW;AAEX,eAAW;AACX,mBAAe;AAEf,QAAI,YAAY;AACd,UAAI,YAAY,QAAW;AACzB,eAAO,YAAY,YAAY;AAAA,MAChC;AACD,UAAI,QAAQ;AAEV,kBAAU,WAAW,cAAc,IAAI;AACvC,eAAO,WAAW,YAAY;AAAA,MAC/B;AAAA,IACF;AACD,QAAI,YAAY,QAAW;AACzB,gBAAU,WAAW,cAAc,IAAI;AAAA,IACxC;AACD,WAAO;AAAA,EACR;AAED,YAAU,SAAS;AACnB,YAAU,QAAQ;AAClB,SAAO;AACT;;"}