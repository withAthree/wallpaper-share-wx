{"version":3,"file":"icon-custom.js","sources":["uni_modules/tuniaoui-vue3/components/icon/src/composables/icon-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { formatDomSizeValue, isEmpty } from '../../../../utils'\nimport { useNamespace } from '../../../../hooks/use-namespace'\nimport { useComponentColor } from '../../../../hooks/use-component-color'\nimport { useComponentSize } from '../../../../hooks/use-component-size'\n\nimport type { CSSProperties } from 'vue'\nimport type { IconProps } from '../icon'\n\nexport const useIcon = (props: IconProps) => {\n  const ns = useNamespace('icon')\n\n  // 解析图标颜色\n  const [colorClass, colorStyle, updateColor] = useComponentColor(\n    toRef(props, 'color'),\n    'text'\n  )\n  // 解析透明图标背景\n  const [transparentBgClass] = useComponentColor(toRef(props, 'transparentBg'), 'bg')\n  // 解析图标尺寸\n  const { sizeType } = useComponentSize(props.size)\n\n  // 判断是图片还是图鸟内置的图标\n  const isImg = computed<boolean>(\n    () => !!props?.name && props.name.includes('/')\n  )\n\n  // 图标对应的类名\n  const iconClass = computed<string>(() => {\n    const cls: string[] = []\n    cls.push(ns.b())\n    // 判断图标是否是图片\n    if (isImg.value) {\n      cls.push(ns.m('image'))\n    } else {\n      // 设置图标颜色类型\n      if (props.type) cls.push(`tn-type-${props.type}_text`)\n\n      // 判断是否设置透明图标背景\n      if (props.transparent) {\n        cls.push('tn-text-transparent', transparentBgClass.value)\n      } else {\n        // 设置图标颜色\n        if (colorClass.value) cls.push(colorClass.value)\n      }\n\n      // 设置图标加粗\n      if (props.bold) cls.push('tn-text-bold')\n    }\n\n    // 设置图标尺寸\n    if (sizeType.value === 'inner') cls.push(ns.m(props.size as string))\n\n    if (props.customClass) cls.push(props.customClass)\n    return cls.join(' ')\n  })\n\n  // 图标对应的样式\n  const iconStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n    // 判断图标是否是图片\n    if (isImg.value) {\n      // 如果设置了size，则设置图片的宽高\n      if (sizeType.value === 'custom' && props.size) {\n        style.width = style.height = formatDomSizeValue(props.size)\n      }\n    } else {\n      // 设置图标颜色\n      if (colorStyle.value) style.color = colorStyle.value\n\n      // 设置图标大小\n      if (sizeType.value === 'custom' && props.size)\n        style.fontSize = formatDomSizeValue(props.size)\n    }\n    // 设置垂直方向上的偏移量\n    if (props.offsetTop)\n      style.transform = `translateY(${formatDomSizeValue(props.offsetTop)})`\n\n    if (!isEmpty(props.customStyle)) Object.assign(style, props.customStyle)\n\n    return style\n  })\n\n  return {\n    isImg,\n    iconClass,\n    iconStyle,\n    updateColor,\n  }\n}\n"],"names":["useNamespace","__read","useComponentColor","toRef","useComponentSize","computed","formatDomSizeValue","isEmpty"],"mappings":";;;;;;;;AASO,MAAM,UAAU,CAAC,UAAgB;AACtC,QAAM,KAAKA,+DAAa,MAAM;AAGxB,QAAA,KAAAC,qBAAwCC,uDAAAA,kBAC5CC,cAAK,MAAC,OAAO,OAAO,GACpB,MAAM,GACP,CAAA,GAHM,aAAU,GAAA,CAAA,GAAE,aAAU,GAAA,CAAA,GAAE,cAAW,GAAA,CAAA;AAKpC,QAAA,KAAAF,cAAuB,OAAAC,uDAAiB,kBAACC,cAAK,MAAC,OAAO,eAAe,GAAG,IAAI,OAA3E;AAEC,QAAA,WAAaC,sDAAgB,iBAAC,MAAM,IAAI,EAAC;AAGjD,QAAM,QAAQC,cAAQ,SACpB,MAAM;AAAA,WAAA,CAAC,EAAC,UAAA,QAAA,UAAA,SAAA,SAAA,MAAO,SAAQ,MAAM,KAAK,SAAS,GAAG;AAAA,EAAxC,CAAyC;AAIjD,QAAM,YAAYA,cAAAA,SAAiB,MAAA;AACjC,UAAM,MAAgB,CAAA;AACtB,QAAI,KAAK,GAAG,EAAG,CAAA;AAEf,QAAI,MAAM,OAAO;AACf,UAAI,KAAK,GAAG,EAAE,OAAO,CAAC;AAAA,IACvB,OAAM;AAEL,UAAI,MAAM;AAAM,YAAI,KAAK,WAAW,MAAM,IAAI,OAAO;AAGrD,UAAI,MAAM,aAAa;AACrB,YAAI,KAAK,uBAAuB,mBAAmB,KAAK;AAAA,MACzD,OAAM;AAEL,YAAI,WAAW;AAAO,cAAI,KAAK,WAAW,KAAK;AAAA,MAChD;AAGD,UAAI,MAAM;AAAM,YAAI,KAAK,cAAc;AAAA,IACxC;AAGD,QAAI,SAAS,UAAU;AAAS,UAAI,KAAK,GAAG,EAAE,MAAM,IAAc,CAAC;AAEnE,QAAI,MAAM;AAAa,UAAI,KAAK,MAAM,WAAW;AACjD,WAAO,IAAI,KAAK,GAAG;AAAA,EACrB,CAAC;AAGD,QAAM,YAAYA,cAAAA,SAAwB,MAAA;AACxC,UAAM,QAAuB,CAAA;AAE7B,QAAI,MAAM,OAAO;AAEf,UAAI,SAAS,UAAU,YAAY,MAAM,MAAM;AAC7C,cAAM,QAAQ,MAAM,SAASC,wCAAAA,mBAAmB,MAAM,IAAI;AAAA,MAC3D;AAAA,IACF,OAAM;AAEL,UAAI,WAAW;AAAO,cAAM,QAAQ,WAAW;AAG/C,UAAI,SAAS,UAAU,YAAY,MAAM;AACvC,cAAM,WAAWA,wCAAAA,mBAAmB,MAAM,IAAI;AAAA,IACjD;AAED,QAAI,MAAM;AACR,YAAM,YAAY,cAAcA,wCAAAA,mBAAmB,MAAM,SAAS,CAAC;AAErE,QAAI,CAACC,qCAAAA,QAAQ,MAAM,WAAW;AAAG,aAAO,OAAO,OAAO,MAAM,WAAW;AAEvE,WAAO;AAAA,EACT,CAAC;AAED,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAEJ;;"}