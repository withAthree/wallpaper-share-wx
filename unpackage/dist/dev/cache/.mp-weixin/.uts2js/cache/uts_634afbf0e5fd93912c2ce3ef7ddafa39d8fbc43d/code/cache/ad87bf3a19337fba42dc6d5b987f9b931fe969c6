{"code":"import { provide, reactive, ref, toRefs } from 'vue';\nimport { swipeActionContextKey } from '../../../../tokens';\nimport { useOrderedChildren } from '../../../../hooks';\nexport const useSwipeAction = (props, emits) => {\n    const _a = useOrderedChildren(), items = _a.children, addItem = _a.addChild, removeItem = _a.removeChild;\n    // 当前激活的UID\n    const activeUid = ref([]);\n    // 设置当前激活的item\n    const setActiveItem = (uid) => {\n        const itemIndex = items.value.findIndex((item) => { return item.uid === uid; });\n        const index = activeUid.value.indexOf(uid);\n        if (props.exclusive) {\n            activeUid.value = index !== -1 ? [] : [uid];\n        }\n        else {\n            if (index !== -1) {\n                activeUid.value.splice(index, 1);\n            }\n            else {\n                activeUid.value.push(uid);\n            }\n        }\n        emits('open', itemIndex);\n    };\n    // 关闭所有item的菜单\n    const closeAllItemOption = () => {\n        activeUid.value = [];\n    };\n    // 回调当前点击的选项\n    const optionClick = (uid, optionIndex) => {\n        const itemIndex = items.value.findIndex((item) => { return item.uid === uid; });\n        emits('select', itemIndex, optionIndex);\n    };\n    provide(swipeActionContextKey, reactive(Object.assign(Object.assign({}, toRefs(props)), { items,\n        addItem,\n        removeItem,\n        activeUid,\n        setActiveItem,\n        closeAllItemOption,\n        optionClick })));\n};\n//# sourceMappingURL=D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/swipe-action/src/composables/use-swipe-action.js.map","references":["D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/tokens/index.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/hooks/index.ts","D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/tokens/index.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/swipe-action/src/swipe-action.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"use-swipe-action.js\",\"sourceRoot\":\"\",\"sources\":[\"use-swipe-action.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,KAAK,CAAA;AACpD,OAAO,EAAE,qBAAqB,EAAE,MAAM,oBAAoB,CAAA;AAC1D,OAAO,EAAE,kBAAkB,EAAE,MAAM,mBAAmB,CAAA;AAMtD,MAAM,CAAC,MAAM,cAAc,GAAG,CAC5B,KAAuB,EACvB,KAA6C;IAEvC,MAAA,KAIF,kBAAkB,EAA0B,EAHpC,KAAK,cAAA,EACL,OAAO,cAAA,EACJ,UAAU,iBACuB,CAAA;IAEhD,WAAW;IACX,MAAM,SAAS,GAAG,GAAG,CAAW,EAAE,CAAC,CAAA;IAEnC,cAAc;IACd,MAAM,aAAa,GAAG,CAAC,GAAW;QAChC,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,OAAK,OAAA,IAAI,CAAC,GAAG,KAAK,GAAG,EAAhB,CAAgB,CAAC,CAAA;QACnE,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;QAC1C,IAAI,KAAK,CAAC,SAAS,EAAE;YACnB,SAAS,CAAC,KAAK,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAA;SAC5C;aAAM;YACL,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBAChB,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;aACjC;iBAAM;gBACL,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;aAC1B;SACF;QAED,KAAK,CAAC,MAAM,EAAE,SAAS,CAAC,CAAA;IAC1B,CAAC,CAAA;IAED,cAAc;IACd,MAAM,kBAAkB,GAAG;QACzB,SAAS,CAAC,KAAK,GAAG,EAAE,CAAA;IACtB,CAAC,CAAA;IAED,YAAY;IACZ,MAAM,WAAW,GAAG,CAAC,GAAW,EAAE,WAAmB;QACnD,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,OAAK,OAAA,IAAI,CAAC,GAAG,KAAK,GAAG,EAAhB,CAAgB,CAAC,CAAA;QACnE,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,CAAC,CAAA;IACzC,CAAC,CAAA;IAED,OAAO,CACL,qBAAqB,EACrB,QAAQ,iCACH,MAAM,CAAC,KAAK,CAAC,KAEhB,KAAK;QACL,OAAO;QACP,UAAU;QAEV,SAAS;QACT,aAAa;QACb,kBAAkB;QAClB,WAAW,IACX,CACH,CAAA;AACH,CAAC,CAAA\"}"}
