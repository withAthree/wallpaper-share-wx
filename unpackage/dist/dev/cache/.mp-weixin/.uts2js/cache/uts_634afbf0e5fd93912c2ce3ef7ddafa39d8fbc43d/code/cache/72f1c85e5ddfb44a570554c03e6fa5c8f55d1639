{"code":"import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, o as _o, n as _n, p as _p, r as _r, f as _f, gei as _gei, sei as _sei, e as _e } from \"vue\";\nconst __BINDING_COMPONENTS__ = '{\"TnIcon\":{\"name\":\"TnIcon\",\"type\":\"setup\"}}';\nif (!Math) {\n    (TnIcon)();\n}\nimport TnIcon from '../../icon/src/icon.vue';\nimport { useNamespace } from '../../../hooks';\nimport { imageUploadEmits, imageUploadProps } from './image-upload';\nimport { useImageUpload } from './composables';\nexport default /*#__PURE__*/ _defineComponent({\n    __name: 'image-upload',\n    props: imageUploadProps,\n    emits: imageUploadEmits,\n    setup(__props, _a) {\n        var __expose = _a.expose;\n        const props = __props;\n        const ns = useNamespace('image-upload');\n        const nsItem = useNamespace('image-upload-item');\n        const _b = useImageUpload(props), fileList = _b.fileList, isExceedMaxCount = _b.isExceedMaxCount, chooseFile = _b.chooseFile, retryUploadFile = _b.retryUploadFile, retryAllUpload = _b.retryAllUpload, customUploadHandle = _b.customUploadHandle, removeFileEvent = _b.removeFileEvent, clearAllFile = _b.clearAllFile, previewImage = _b.previewImage;\n        __expose(new UTSJSONObject({\n            /**\n             * @description 手动选择文件\n             */\n            chooseFile,\n            /**\n             * @description 手动上传图片\n             */\n            upload: customUploadHandle,\n            /**\n             * @description 重新上传失败的文件\n             */\n            retry: retryAllUpload,\n            /**\n             * @description 清空所有文件\n             */\n            clear: clearAllFile,\n        }));\n        return (_ctx = null, _cache = null) => {\n            const __returned__ = _e(new UTSJSONObject({\n                a: _f(_unref(fileList), (item = null, index = null, i0 = null) => {\n                    return _e(new UTSJSONObject({\n                        a: item.url,\n                        b: _n(_unref(nsItem).is('finish', item.status === 'done')),\n                        c: _o(($event = null) => { return _unref(previewImage)(index); }, index)\n                    }), _ctx.showRemove && !_ctx.disabled ? new UTSJSONObject({\n                        d: '5d00658a-0' + '-' + i0,\n                        e: _p(new UTSJSONObject({\n                            name: 'close-fill'\n                        })),\n                        f: _n(_unref(nsItem).em('remove', 'icon')),\n                        g: _n(_unref(nsItem).e('remove')),\n                        h: _o(($event = null) => { return _unref(removeFileEvent)(index); }, index)\n                    }) : new UTSJSONObject({}), new UTSJSONObject({\n                        i: item.status === 'failed' && !_ctx.disabled\n                    }), item.status === 'failed' && !_ctx.disabled ? new UTSJSONObject({\n                        j: '5d00658a-1' + '-' + i0,\n                        k: _p(new UTSJSONObject({\n                            name: 'refresh-simple'\n                        })),\n                        l: _n(_unref(nsItem).e('retry')),\n                        m: _o(($event = null) => { return _unref(retryUploadFile)(index); }, index)\n                    }) : new UTSJSONObject({}), new UTSJSONObject({\n                        n: _ctx.showUploadProgress && item.progress > 0 && item.progress < 100 && !_ctx.disabled\n                    }), _ctx.showUploadProgress && item.progress > 0 && item.progress < 100 && !_ctx.disabled ? new UTSJSONObject({\n                        o: _n(_unref(nsItem).em('progress', 'wave')),\n                        p: `${-300 - item.progress}%`,\n                        q: _n(_unref(nsItem).em('progress', 'wave')),\n                        r: `${-300 - item.progress}%`,\n                        s: _n(_unref(nsItem).e('progress')),\n                        t: _n(_unref(nsItem).is('finish', item.progress === 100))\n                    }) : new UTSJSONObject({}), new UTSJSONObject({\n                        v: \"uploadImage-\" + i0,\n                        w: _r(\"uploadImage\", new UTSJSONObject({\n                            data: item\n                        }), i0),\n                        x: index\n                    }));\n                }),\n                b: _n(_unref(nsItem).e('image')),\n                c: _ctx.showRemove && !_ctx.disabled,\n                d: _n(_unref(nsItem).b()),\n                e: _n(_unref(nsItem).is('custom', !!_ctx.$slots.uploadImage)),\n                f: !_unref(isExceedMaxCount) && !_ctx.disabled\n            }), !_unref(isExceedMaxCount) && !_ctx.disabled ? new UTSJSONObject({\n                g: _p(new UTSJSONObject({\n                    name: 'add-fill'\n                })),\n                h: _n(_unref(nsItem).em('add-btn', 'icon')),\n                i: _n(_unref(nsItem).e('add-btn')),\n                j: _n(_unref(nsItem).b()),\n                k: _o((...args) => { return _unref(chooseFile) && _unref(chooseFile)(...args); })\n            }) : new UTSJSONObject({}), new UTSJSONObject({\n                l: _sei(_gei(_ctx, ''), 'view'),\n                m: _n(_unref(ns).b())\n            }));\n            return __returned__;\n        };\n    }\n});\n//# sourceMappingURL=D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/image-upload/src/image-upload.vue?vue&type=script&setup=true&lang.uts.js.map","references":["D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/Development/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/icon/src/icon.vue.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/hooks/index.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/image-upload/src/image-upload.ts","D:/Development/project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/image-upload/src/composables/index.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"image-upload.vue?vue&type=script&setup=true&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"image-upload.vue?vue&type=script&setup=true&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
