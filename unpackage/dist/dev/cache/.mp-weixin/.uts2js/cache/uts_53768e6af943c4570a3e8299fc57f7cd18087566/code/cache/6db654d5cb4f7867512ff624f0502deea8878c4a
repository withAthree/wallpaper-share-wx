{"code":"import { ref } from 'vue';\nimport { isBoolean, isEmptyVariableInDefault, isPromise, } from '../../../../utils';\nexport const useModal = () => {\n    const openModal = ref(false);\n    // 弹框标题\n    const title = ref('');\n    // 弹框内容\n    const content = ref('');\n    // 是否显示取消按钮\n    const showCancel = ref(false);\n    // 取消按钮的文字\n    const cancelText = ref('');\n    // 取消按钮的样式\n    const cancelStyle = ref({});\n    // 确认按钮的文字\n    const confirmText = ref('');\n    // 确认按钮的样式\n    const confirmStyle = ref({});\n    // 是否显示遮罩\n    const mask = ref(true);\n    // 是否允许点击遮罩关闭\n    const maskClosable = ref(false);\n    // 点击取消按钮触发的回调函数\n    const cancelFunc = ref(undefined);\n    // 点击确认按钮触发的回调函数\n    const confirmFunc = ref(undefined);\n    // 打开弹窗\n    const showModal = (options) => {\n        openModal.value = true;\n        title.value = isEmptyVariableInDefault(options.title, '');\n        content.value = options.content;\n        showCancel.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.showCancel, false);\n        cancelText.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.cancelText, '取 消');\n        cancelStyle.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.cancelStyle, {});\n        confirmText.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.confirmText, '确 认');\n        confirmStyle.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.confirmStyle, {});\n        mask.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.mask, true);\n        maskClosable.value = isEmptyVariableInDefault(options === null || options === void 0 ? void 0 : options.maskClosable, false);\n        cancelFunc.value = options === null || options === void 0 ? void 0 : options.cancel;\n        confirmFunc.value = options === null || options === void 0 ? void 0 : options.confirm;\n    };\n    // 关闭弹窗\n    const closeModal = () => {\n        openModal.value = false;\n    };\n    // 点击取消按钮\n    const clickCancel = () => {\n        if (!cancelFunc.value) {\n            closeModal();\n            return;\n        }\n        const func = cancelFunc.value();\n        const isPromiseOrBool = [isPromise(func), isBoolean(func)].includes(true);\n        if (!isPromiseOrBool) {\n            // 传递的是普通函数\n            closeModal();\n            return;\n        }\n        if (isPromise(func)) {\n            func\n                .then((res) => {\n                if (res)\n                    closeModal();\n            })\n                .catch((err) => {\n                // eslint-disable-next-line no-console\n                uni.__f__('warn', 'at uni_modules/tuniaoui-vue3/components/modal/src/composables/use-modal.ts:93', `[TnModal] some error occured: ${err}`);\n            });\n        }\n        else if (func) {\n            closeModal();\n        }\n    };\n    // 点击确认按钮\n    const clickConfirm = () => {\n        if (!confirmFunc.value) {\n            closeModal();\n            return;\n        }\n        const func = confirmFunc.value();\n        const isPromiseOrBool = [isPromise(func), isBoolean(func)].includes(true);\n        if (!isPromiseOrBool) {\n            // 传递的是普通函数\n            closeModal();\n            return;\n        }\n        if (isPromise(func)) {\n            func\n                .then((res) => {\n                if (res)\n                    closeModal();\n            })\n                .catch((err) => {\n                // eslint-disable-next-line no-console\n                uni.__f__('warn', 'at uni_modules/tuniaoui-vue3/components/modal/src/composables/use-modal.ts:124', `[TnModal] some error occured: ${err}`);\n            });\n        }\n        else if (func) {\n            closeModal();\n        }\n    };\n    return {\n        openModal,\n        showModal,\n        title,\n        content,\n        showCancel,\n        cancelText,\n        cancelStyle,\n        confirmText,\n        confirmStyle,\n        mask,\n        maskClosable,\n        cancelFunc,\n        confirmFunc,\n        clickCancel,\n        clickConfirm,\n    };\n};\n//# sourceMappingURL=D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/modal/src/composables/use-modal.js.map","references":["D:/DEV/HBuilderX/plugins/uniapp-cli-vite/node_modules/@vue/runtime-core/dist/runtime-core.d.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/utils/index.ts","D:/DEV/Project/wallpaper-share-wx/uni_modules/tuniaoui-vue3/components/modal/src/modal.ts"],"uniExtApis":[],"map":"{\"version\":3,\"file\":\"use-modal.js\",\"sourceRoot\":\"\",\"sources\":[\"use-modal.ts\"],\"names\":[],\"mappings\":\"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\"}"}
