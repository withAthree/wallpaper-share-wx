{"version":3,"file":"use-overlay.js","sources":["uni_modules/tuniaoui-vue3/components/overlay/src/composables/use-overlay.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { useNamespace } from '../../../../hooks'\nimport { isEmptyVariableInDefault } from '../../../../utils'\n\nimport type { CSSProperties, SetupContext } from 'vue'\nimport type { OverlayEmits, OverlayProps } from '../overlay'\n\nexport const useOverlay = (\n  props: OverlayProps,\n  emits: SetupContext<OverlayEmits>['emit']\n) => {\n  const ns = useNamespace('overlay')\n\n  // 遮罩层对应的类\n  const overlayClass = computed<string>(() => {\n    const cls: string[] = [ns.b()]\n\n    // 是否显示组件\n    if (props.show) cls.push(ns.m('show'))\n\n    return cls.join(' ')\n  })\n\n  // 遮罩层样式\n  const overlayStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    // 动画执行时间\n    style.transitionDuration = `${isEmptyVariableInDefault(\n      props.duration,\n      300\n    )}ms`\n\n    // 遮罩层透明度\n    style.backgroundColor = `rgba(0, 0, 0, ${isEmptyVariableInDefault(\n      props.opacity,\n      0.5\n    )})`\n\n    // 设置zIndex\n    if (props.zIndex) style.zIndex = props.zIndex\n\n    return style\n  })\n\n  // 遮罩点击事件\n  const overlayClick = () => {\n    emits('update:show', false)\n    emits('click')\n  }\n\n  return {\n    ns,\n    overlayClass,\n    overlayStyle,\n    overlayClick,\n  }\n}\n"],"names":["useNamespace","computed","isEmptyVariableInDefault"],"mappings":";;;;;;AAOa,MAAA,aAAa,CACxB,OACA,UAAyC;AAEzC,QAAM,KAAKA,+DAAa,SAAS;AAGjC,QAAM,eAAeC,cAAAA,SAAiB,MAAA;AACpC,UAAM,MAAgB,CAAC,GAAG,EAAG,CAAA;AAG7B,QAAI,MAAM;AAAM,UAAI,KAAK,GAAG,EAAE,MAAM,CAAC;AAErC,WAAO,IAAI,KAAK,GAAG;AAAA,EACrB,CAAC;AAGD,QAAM,eAAeA,cAAAA,SAAwB,MAAA;AAC3C,UAAM,QAAuB,CAAA;AAG7B,UAAM,qBAAqB,GAAGC,uCAAwB,yBACpD,MAAM,UACN,GAAG,CACJ;AAGD,UAAM,kBAAkB,iBAAiBA,uCAAwB,yBAC/D,MAAM,SACN,GAAG,CACJ;AAGD,QAAI,MAAM;AAAQ,YAAM,SAAS,MAAM;AAEvC,WAAO;AAAA,EACT,CAAC;AAGD,QAAM,eAAe,MAAA;AACnB,UAAM,eAAe,KAAK;AAC1B,UAAM,OAAO;AAAA,EACf;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAEJ;;"}